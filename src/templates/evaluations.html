{% extends 'base.html' %}
{% block content %}
<h3>Evaluations</h3>
<div class="card mb-3">
  <div class="card-body">
    <form method="post" class="row g-2">
      <div class="col-6"><label>Employee</label><select class="form-select" name="employee_id">{% for u in users %}<option value="{{u.id}}">{{u.full_name or u.username}}</option>{% endfor %}</select></div>
      <div class="col-6"><label>Date</label><input class="form-control" name="date" type="date"></div>
      <div class="col-12 mt-2"><label>Scores</label></div>
      {% for c in criteria %}
        <div class="col-4"><label>{{c.name}}</label><input class="form-control" name="score_{{c.id}}" type="number" min="1" max="5" placeholder="1-5"></div>
      {% endfor %}
      <div class="col-12"><label>Comments</label><textarea class="form-control" name="comments"></textarea></div>
      <div class="col-12 text-end"><button class="btn btn-primary">Save Evaluation</button></div>
    </form>
  </div>
</div>
<div class="card">
  <div class="card-body">
    <h5>Existing evaluations</h5>
    <table class="table table-sm">
      <thead><tr><th>ID</th><th>Employee</th><th>Evaluator</th><th>Date</th><th>Scores</th></tr></thead>
      <tbody>
        {% for ev in evaluations %}
          <tr>
            <td>{{ev.id}}</td>
            <td>{{ev.employee_id}}</td>
            <td>{{ev.evaluator_id}}</td>
            <td>{{ev.date}}</td>
            <td>{{ev.scores}}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
